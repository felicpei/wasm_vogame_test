- 去掉登录验证，保证客户端and服务器分开运行，且可以跑。
  - 分离客户端服务器目录
  - 去掉了authc账号验证
  - 去掉了client bot相关代码
- 客户端分为 game、bot、chat 3个，可以自行更改启动不同的客户端。
  - game（保留）
  - bot（删除）
  - chat（删除）
- 网络部分：
  - Tcp （保留）
  - Udp（未使用，删除）
  - quic（默认未使用，删除）
  - mpsc（一种c2c的网络，可选使用，删除后不影响）

- 屏蔽使用socket2的地方，用client_tcp feature 区分。
  - 用cargo跑的话，打开client_tcp feature
- 删除dyn相关，dyn是支持动态更新资源的，web应该不需要。
  - 解除notify，net2的引用
- 删除feature tracy相关，profile用的，wasm不可用了。
- 删除有问题的dev引用，一些单元测试test代码，test以后wasm也没法用了。
- 删掉了egui相关，看了只有debug按钮用到，先删掉。删掉后进游戏跑还是正常的。
- 删掉了plugin相关的feature，这个看上去是可以加载外部插件用的。
  - 删掉后，游戏无影响
- 删除plugin，提供mod的相关制作接口的，用了本地IO相关，客户端删了
  - 不影响游戏运行
- 删除了 num_cpus
  - 这个通过获取cpu核心数量，来定义场景同时渲染数量或线程数量，修改为2.
  - todo：多线程可能要改成单线程
-  删除copy_dir
  - 没用删了
-  删除Mumble-link
  - 不太确定干嘛的，似乎是影响位置音频的，删了没啥影响
  - 代码在：client/voxygen/src/session/mod.rs
-  删除common-front_end
  - 这个是用来写日志文件的。以后wasm不可用。
-  删除native_dialog
  - 这个是报错弹框，没用了。（统一用log看）
- 替换所有log为wasm_logger，不然wasm打不出日志。
  - 统一删除trace，替换为log，log支持在wasm使用
-  删除singleplayer标签的相关代码
  - 影响其他代码修改了（目前没法用，无法在wasm本地开服务器）
  -  GameMode 删除 Singleplayer
-  删除对本地IO的操作逻辑:
  -  删除本地的userdata存储: （作用为存储用户的一系列设置相关数据，目前全部用默认）
    -  common/base/userdata_dir.rs (管理本地存储路径)
    -  Setting.Load (加载用户设置信息)
    -  Profile.Load (存服务器列表相关的, 仅用默认)
  -  删除GlobalState中的 userdata_dir 和 config_dir(本地存储的路径信息)
  -  (目前保存在客户端修改的设置不会保存, 以后需要的话需要放到服务器)
  - 删除本地截图功能(Settings.screenshots_path, take_screenshot)(wasm不支持)



todo：
1. 目前网络部分使用了多线程，这个wasm会有问题，修改 tokio 的 rt-multi-thread 为 rt，wasm不支持 rt-multi-thread。
2. 网络部分暂时屏蔽了tcpsocket，以后换。


-------
去掉IcedUI相关 和 ShaderC以后， wasm已经可以编译通过了。
但去掉后就无法运行了。


剩下还有几个难关要攻克：
     UI. 
	逻辑太混乱，在游戏任何地方都有UI，像很多登录等，都在UI代码中驱动。
          UI看了下，可能要换底层。设计大量修改。
          IcedWeb是个实验版本，且已经不维护了，功能几乎没有。
          目前比较成熟的是egui-web，例子：https://github.com/emilk/eframe_template
          需要基于这个按照目前的代码逻辑来包装中间层，来适应目前的接口。

     渲染
	如何在web解析shader，以及shader是否支持web。
          渲染逻辑目前完全依赖于wgpu，大概看了下有10条左右的管线，还有N个pass。
          这块要测试怎么在web上跑（初步猜测一些管线的并不能支持在web的渲染引擎中跑）

     网络
	修改为websocket（不确定服务器要不要一起改）
          web是否支持单独开个线程跑网络？
           
     运行时问题：
	 一致 std::time(标准时间库) 在wasm上不可用，（这个运行时报错，编译不报错）
           其他还有一些像std::io 之类的。
           这个估计也要花一定时间调试。
